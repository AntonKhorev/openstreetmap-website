<turbo-frame id="pagination" target="_top" data-turbo="false">
  <table class="table table-striped" width="100%">
    <thead>
      <tr>
        <th><%= t ".changeset" %></th>
        <th><%= t ".comment" %></th>
      </tr>
    </thead>
    <% @comments.each do |comment| -%>
    <tr>
      <td class="<%= "text-muted" unless comment.visible? %>">
        <%= link_to comment.changeset.id, changeset_path(comment.changeset) %>
      </td>
      <td class="<%= " text-muted" unless comment.visible? %>">
        <div class="text-body-secondary">
          <small>
            <%= comment_by_options = { :time_ago => friendly_date_ago(comment.created_at),
                                       :user => link_to(comment.author.display_name, comment.author) }
                comment.visible ? t("changesets.show.comment_by_html", **comment_by_options) : t("changesets.show.hidden_comment_by_html", **comment_by_options) %>
          </small>
        </div>
        <div class="richtext text-break">
          <%= comment.body.to_html %>
        </div>
      </td>
    </tr>
    <% end -%>
  </table>

  <%= render "shared/pagination",
             :newer_id => @newer_comments_id,
             :older_id => @older_comments_id %>
</turbo-frame>
